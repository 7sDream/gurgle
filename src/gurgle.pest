WHITE_SPACE = _{ " " | "\t" }

number = @{ ASCII_DIGIT+ }
postprocess = { "avg" | "max" | "min" | "sum" }
dice = { number ~ ( "d" | "D" ) ~ number ~ postprocess? }

compare = { ">=" | "<=" | ">" | "<" | "==" | "=" }
checker = { compare ~ number }

operator = { "+" | "-" }
item = { dice | number }

expr = { item ~ ( operator ~ item )* }
gurgle = _{ SOI ~ expr ~ checker? ~ EOI }
